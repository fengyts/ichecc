<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ichecc.domain.VipDepositOrderMapper">

	<resultMap type="com.ichecc.domain.VipDepositOrderDO" id="VipDepositOrderDOResultMap">
		<id column="id" property="id" />
        <result column="order_no" property="orderNo"/>
        <result column="user_id" property="userId"/>
        <result column="openid" property="openid"/>
        <result column="prepay_id" property="prepayId"/>
        <result column="order_status" property="orderStatus"/>
        <result column="transaction_id" property="transactionId"/>
        <result column="amount" property="amount"/>
        <result column="trade_state" property="tradeState"/>
        <result column="trade_state_desc" property="tradeStateDesc"/>
        <result column="bank_type" property="bankType"/>
        <result column="time_end" property="timeEnd"/>
        <result column="create_time" property="createTime"/>
        <result column="modify_time" property="modifyTime"/>
	</resultMap>

	<sql id="MybatisVipDepositOrderDAO_all_column_fields">
	      id,order_no,user_id,openid,prepay_id,order_status,transaction_id,amount,trade_state,trade_state_desc,bank_type,time_end,create_time,modify_time
 	</sql>
	<!-- 只有varchar char text类型 做 !='' 判断，生成代码时,其他类型时只做!=null 决断 0或fasle与空''是相同的，在mybatis中的动态语句中 -->
	<sql id="MybatisVipDepositOrderDAO_dynamic_where_fields"><!-- xml转义字符需要 <![CDATA[   ]]> 标签-->
		<where>
			<if test="orderNo != null  and orderNo != '' "> AND order_no=#{orderNo} </if>
			<if test="userId != null "> AND user_id=#{userId} </if>
			<if test="openid != null  and openid != '' "> AND openid=#{openid} </if>
			<if test="prepayId != null  and prepayId != '' "> AND prepay_id=#{prepayId} </if>
			<if test="orderStatus != null  and orderStatus != '' "> AND order_status=#{orderStatus} </if>
			<if test="transactionId != null  and transactionId != '' "> AND transaction_id=#{transactionId} </if>
			<if test="amount != null "> AND amount=#{amount} </if>
			<if test="tradeState != null  and tradeState != '' "> AND trade_state=#{tradeState} </if>
			<if test="tradeStateDesc != null  and tradeStateDesc != '' "> AND trade_state_desc=#{tradeStateDesc} </if>
			<if test="bankType != null  and bankType != '' "> AND bank_type=#{bankType} </if>
		</where>
 	</sql>
	
	<select id="MybatisVipDepositOrderDAO_selectById" parameterType="long" resultMap="VipDepositOrderDOResultMap">
		SELECT
			<include refid="MybatisVipDepositOrderDAO_all_column_fields" />
		FROM
			vip_deposit_order
		WHERE
			 id = #{id}
	</select>
	
	
	
    <insert id="MybatisVipDepositOrderDAO_insert" parameterType="com.ichecc.domain.VipDepositOrderDO" useGeneratedKeys="true">
        <selectKey resultType="long" keyProperty="id" order="AFTER">
            SELECT LAST_INSERT_ID() AS id
        </selectKey>
        INSERT INTO vip_deposit_order(
			id,
			order_no,
			user_id,
			openid,
			prepay_id,
			order_status,
			transaction_id,
			amount,
			trade_state,
			trade_state_desc,
			bank_type,
			time_end,
			create_time,
			modify_time
		)values(
			#{id},
			#{orderNo},
			#{userId},
			#{openid},
			#{prepayId},
			#{orderStatus},
			#{transactionId},
			#{amount},
			#{tradeState},
			#{tradeStateDesc},
			#{bankType},
			#{timeEnd},
			#{createTime},
			#{modifyTime}
		)
    </insert>
	

	<update id="MybatisVipDepositOrderDAO_updateById" parameterType="com.ichecc.domain.VipDepositOrderDO">
		UPDATE vip_deposit_order
		SET
			order_no = #{orderNo},
			user_id = #{userId},
			openid = #{openid},
			prepay_id = #{prepayId},
			order_status = #{orderStatus},
			transaction_id = #{transactionId},
			amount = #{amount},
			trade_state = #{tradeState},
			trade_state_desc = #{tradeStateDesc},
			bank_type = #{bankType},
			time_end = #{timeEnd},
			modify_time = #{modifyTime}
		WHERE
			id = #{id}
	</update>

	<delete id="MybatisVipDepositOrderDAO_deleteById" parameterType="long">
		DELETE FROM vip_deposit_order WHERE id = #{id}
	</delete>
	
	
	<update id="MybatisVipDepositOrderDAO_update_dynamic" parameterType="com.ichecc.domain.VipDepositOrderDO">
		UPDATE vip_deposit_order
		<set>
			<if test="orderNo != null  and orderNo != '' ">order_no=#{orderNo},</if>
			<if test="userId != null ">user_id=#{userId},</if>
			<if test="openid != null  and openid != '' ">openid=#{openid},</if>
			<if test="prepayId != null  and prepayId != '' ">prepay_id=#{prepayId},</if>
			<if test="orderStatus != null  and orderStatus != '' ">order_status=#{orderStatus},</if>
			<if test="transactionId != null  and transactionId != '' ">transaction_id=#{transactionId},</if>
			<if test="amount != null ">amount=#{amount},</if>
			<if test="tradeState != null  and tradeState != '' ">trade_state=#{tradeState},</if>
			<if test="tradeStateDesc != null  and tradeStateDesc != '' ">trade_state_desc=#{tradeStateDesc},</if>
			<if test="bankType != null  and bankType != '' ">bank_type=#{bankType},</if>
			<if test="timeEnd != null ">time_end=#{timeEnd},</if>
			<if test="modifyTime != null ">modify_time=#{modifyTime},</if>
		</set>
		WHERE id = #{id}
	</update>

 	<select id="MybatisVipDepositOrderDAO_select_dynamic" resultMap="VipDepositOrderDOResultMap" parameterType="com.ichecc.domain.VipDepositOrderDO">
	     SELECT
	     	<include refid="MybatisVipDepositOrderDAO_all_column_fields" />
		 FROM
		 	vip_deposit_order
			<include refid="MybatisVipDepositOrderDAO_dynamic_where_fields" />
 	</select>

 	<select id="MybatisVipDepositOrderDAO_select_dynamic_count" resultType="long" parameterType="com.ichecc.domain.VipDepositOrderDO">
	     SELECT
	     	count(1)
		 FROM
		 	vip_deposit_order
	 	<include refid="MybatisVipDepositOrderDAO_dynamic_where_fields" />
 	</select>

 	<select id="MybatisVipDepositOrderDAO_select_dynamic_page_query" resultMap="VipDepositOrderDOResultMap" parameterType="com.ichecc.domain.VipDepositOrderDO">
	     SELECT
	     	<include refid="MybatisVipDepositOrderDAO_all_column_fields" />
		 FROM
		 	vip_deposit_order
	 	<include refid="MybatisVipDepositOrderDAO_dynamic_where_fields" />
	 	ORDER BY vip_deposit_order.id DESC
	 	Limit #{start},#{pageSize}
 	</select>

</mapper>